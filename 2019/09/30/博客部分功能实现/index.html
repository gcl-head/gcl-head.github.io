<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="主要记录博客建立的小功能和小心得 监听路由变化尽管我博客的路由会随着类别的变化而变化，但现实博客内容的组件却始终没有改变，因此路由的切换不会使该组件再次调用created钩子函数，造成博客内容不更新的问题。尝试通过监听路由的变化来手动更新博客内容。 在博客内容组件中加入watch函数： 12345678910watch: &amp;#123;  &amp;#x27;$route&amp;#x27; () &amp;#123; &#x2F;">
<meta property="og:type" content="article">
<meta property="og:title" content="博客部分功能实现">
<meta property="og:url" content="http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/index.html">
<meta property="og:site_name" content="ImBighead">
<meta property="og:description" content="主要记录博客建立的小功能和小心得 监听路由变化尽管我博客的路由会随着类别的变化而变化，但现实博客内容的组件却始终没有改变，因此路由的切换不会使该组件再次调用created钩子函数，造成博客内容不更新的问题。尝试通过监听路由的变化来手动更新博客内容。 在博客内容组件中加入watch函数： 12345678910watch: &amp;#123;  &amp;#x27;$route&amp;#x27; () &amp;#123; &#x2F;">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-09-30T14:38:42.000Z">
<meta property="article:modified_time" content="2019-09-30T14:38:42.000Z">
<meta property="article:author" content="bighead">
<meta property="article:tag" content="markdown">
<meta property="article:tag" content="route-view">
<meta property="article:tag" content="el-autocomplete">
<meta property="article:tag" content="valine">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>博客部分功能实现</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">

    
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

    
<link rel="stylesheet" href="/css/style.css">

    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="ImBighead" type="application/atom+xml" />
    
    <!-- jquery -->
    
<script src="/lib/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.3.0"></head>

<body>
    <div class="banner">
<div id="blogtitel" class="blogtitel">ImBighead</div>
<ul id="wrapper" class="wrapper">
  <div class="sun">
    <div class="star"></div>
  </div>
  <div class="mercury">
    <div class="planet">
      <div class="shadow"></div>
    </div>
  </div>
  <div class="venus">
    <div class="planet">
      <div class="shadow"></div>
    </div>
  </div>
  <div class="earth">
    <div class="planet"><div class="shadow"></div></div>
  </div>
  <div class="mars">
    <div class="planet"><div class="shadow"></div></div>
  </div>
  <div class="jupiter">
    <div class="planet"><div class="shadow"></div></div>
  </div>
</ul>
</div>

    <div class="background">
      
        <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        
          <li><a href="/home/">Home</a></li>
        
          <li><a href="/about/">About</a></li>
        
          <li><a href="/archives/">Writing</a></li>
        
          <li><a href="/tags/">Tag</a></li>
        
          <li><a href="/categories/">Category</a></li>
        
          <li><a href="/search/">Search</a></li>
        
          <li><a target="_blank" rel="noopener" href="https://github.com/gcl-head/hexo-blog">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/10/06/%E4%BC%98%E5%8C%96%E7%BD%91%E7%AB%99%E5%8A%A0%E8%BD%BD%E9%80%9F%E5%BA%A6/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover='$("#i-prev").toggle();' onmouseout='$("#i-prev").toggle();'></i></a></li>
        
        
        <li><a class="icon" href="/2019/09/30/%E5%89%91%E6%8C%87offer%E5%88%B7%E9%A2%98/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover='$("#i-next").toggle();' onmouseout='$("#i-next").toggle();'></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover='$("#i-top").toggle();' onmouseout='$("#i-top").toggle();'></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover='$("#i-share").toggle();' onmouseout='$("#i-share").toggle();' onclick='$("#share").toggle();return false;'></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&text=博客部分功能实现"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&title=博客部分功能实现"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&is_video=false&description=博客部分功能实现"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=博客部分功能实现&body=Check out this article: http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&title=博客部分功能实现"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&title=博客部分功能实现"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&title=博客部分功能实现"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&title=博客部分功能实现"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&name=博客部分功能实现&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E8%B7%AF%E7%94%B1%E5%8F%98%E5%8C%96"><span class="toc-number">1.</span> <span class="toc-text">监听路由变化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#markdown-amp-%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE"><span class="toc-number">2.</span> <span class="toc-text">markdown&amp;代码高亮</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#router-view%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">router-view的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E6%90%9C%E7%B4%A2%E6%A0%8F"><span class="toc-number">4.</span> <span class="toc-text">博客搜索栏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD"><span class="toc-number">5.</span> <span class="toc-text">增加评论功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E6%9C%BA%E7%AB%AF%E5%85%BC%E5%AE%B9"><span class="toc-number">6.</span> <span class="toc-text">手机端兼容</span></a></li></ol>
    </div>
  </span>
</div>

      
      <div class="content index width mx-auto px2 my4">
          
          <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        博客部分功能实现
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">ImBighead</span>
      </span>
      
        <i class="fa fa-plus"></i>
      
      
    <div class="postdate">
        <time datetime="2019-09-30T14:38:42.000Z" itemprop="datePublished">2019-09-30</time>
    </div>


      
    <div class="article-category">
        <i class="fa fa-bars"></i>
        <a class="tag-link-link" href="/categories/projects/" rel="tag">projects</a>
    </div>


      
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link-link" href="/tags/el-autocomplete/" rel="tag">el-autocomplete</a>, <a class="tag-link-link" href="/tags/markdown/" rel="tag">markdown</a>, <a class="tag-link-link" href="/tags/route-view/" rel="tag">route-view</a>, <a class="tag-link-link" href="/tags/valine/" rel="tag">valine</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>主要记录博客建立的小功能和小心得</p>
<h2 id="监听路由变化"><a href="#监听路由变化" class="headerlink" title="监听路由变化"></a>监听路由变化</h2><p>尽管我博客的路由会随着类别的变化而变化，但现实博客内容的组件却始终没有改变，因此路由的切换不会使该组件再次调用created钩子函数，造成博客内容不更新的问题。尝试通过监听路由的变化来手动更新博客内容。</p>
<p>在博客内容组件中加入watch函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">  <span class="string">&#x27;$route&#x27;</span> () &#123; <span class="comment">// 监听路由变化</span></span><br><span class="line">    <span class="keyword">let</span> that = <span class="built_in">this</span></span><br><span class="line">    that.init()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">created () &#123;</span><br><span class="line">    <span class="built_in">this</span>.init()</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>
<h2 id="markdown-amp-代码高亮"><a href="#markdown-amp-代码高亮" class="headerlink" title="markdown&amp;代码高亮"></a>markdown&amp;代码高亮</h2><p>为了使博客内容编写起来更方便和美观，我引入了markdown的vue插件，并增加了代码高亮插件。</p>
<p>首先安装vue-markdown：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vue-markdown --save</span><br></pre></td></tr></table></figure>
<p>然后安装highlight.js增加代码高亮功能：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install highlight.js --save</span><br></pre></td></tr></table></figure>
<p>然后在程序入口文件main.js中增加如下代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 代码高亮</span></span><br><span class="line"><span class="keyword">import</span> hljs <span class="keyword">from</span> <span class="string">&#x27;highlight.js&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;highlight.js/styles/googlecode.css&#x27;</span></span><br><span class="line">Vue.directive(<span class="string">&#x27;highlight&#x27;</span>, <span class="function">(<span class="params">el</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> blocks = el.querySelectorAll(<span class="string">&#x27;pre code&#x27;</span>)</span><br><span class="line">  blocks.forEach(<span class="function">(<span class="params">block</span>) =&gt;</span> &#123;</span><br><span class="line">    hljs.highlightBlock(block)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>最后由于我的博客虽然内容一直在变化，但组件始终是一个，不随路由变化而更新，所以切换后的markdown内容往往没有代码高亮效果，因此每次切换博客内容时需要手动刷新组件，我通过v-if值得变化来实现组件的刷新，但并没有效果，推测是组件重新加入dom流这个操作放在了组件渲染前，所以无效，因此加入了nextTick的钩子函数，来达到手动刷新组件启动代码高亮功能的效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">vue-markdown</span> <span class="attr">:source</span>=<span class="string">&quot;compiledMarkdown&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;markdownRefresh&quot;</span> <span class="attr">v-highlight</span>&gt;</span><span class="tag">&lt;/<span class="name">vue-markdown</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.markdownRefresh = <span class="literal">false</span></span><br><span class="line"><span class="built_in">this</span>.compiledMarkdown = ...</span><br><span class="line"><span class="built_in">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.markdownRefresh = <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="router-view的使用"><a href="#router-view的使用" class="headerlink" title="router-view的使用"></a>router-view的使用</h2><p>在项目中我有时会希望在组件中嵌套组件，并且希望子组件随着路由的变化而变化，比如我希望导航栏始终存在，而导航栏下的内容会随着路由的变化而变化。这个时候就可以使用<a target="_blank" rel="noopener" href="https://router.vuejs.org/zh/guide/essentials/nested-routes.html">router-view</a>。</p>
<p>我们可以通过路由信息(routes.js)中的children来配置子路由：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  path: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">  redirect: &#123; <span class="attr">name</span>: <span class="string">&#x27;index&#x27;</span> &#125;,</span><br><span class="line">  component: nav,</span><br><span class="line">  children: [</span><br><span class="line">    <span class="comment">// 首页</span></span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">&#x27;index&#x27;</span>,</span><br><span class="line">      name: <span class="string">&#x27;index&#x27;</span>,</span><br><span class="line">      meta: &#123;</span><br><span class="line">        title: <span class="string">&#x27;大头博客的首页&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      component: _import(<span class="string">&#x27;pages/index&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样页面的router-view标签中的内容就会随着路由跳转到’/index’而变化，而外层的组件则不会消除：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-container</span> <span class="attr">ref</span>=<span class="string">&quot;homePage&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-header</span> <span class="attr">style</span>=<span class="string">&quot;min-width: 650px;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">:default-active</span>=<span class="string">&quot;activeIndex&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;horizontal&quot;</span> @<span class="attr">select</span>=<span class="string">&quot;menuSelect&quot;</span> <span class="attr">router</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header-left&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-s-operation icon&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeCollapse&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;isBlog&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">index</span>=<span class="string">&quot;/index&quot;</span> <span class="attr">style</span>=<span class="string">&quot;font-size: 20px;display: inline;&quot;</span>&gt;</span></span><br><span class="line">              大头博客</span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header-right&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">v-for</span>=<span class="string">&quot;group in groups&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;group.id&quot;</span> <span class="attr">:index</span>=<span class="string">&quot;group.href&quot;</span>&gt;</span>&#123;&#123; group.kind &#125;&#125;<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">el-link</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/gcl-head/blog&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">:underline</span>=<span class="string">&quot;false&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: #4d2586;&quot;</span>&gt;</span></span><br><span class="line">              GitHub</span><br><span class="line">              <span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">x</span>=<span class="string">&quot;0px&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0px&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 100 100&quot;</span> <span class="attr">width</span>=<span class="string">&quot;15&quot;</span> <span class="attr">height</span>=<span class="string">&quot;15&quot;</span> <span class="attr">class</span>=<span class="string">&quot;icon outbound&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> <span class="attr">d</span>=<span class="string">&quot;M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span> <span class="tag">&lt;<span class="name">polygon</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> <span class="attr">points</span>=<span class="string">&quot;45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">polygon</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">el-link</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">ref</span>=<span class="string">&quot;router&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="博客搜索栏"><a href="#博客搜索栏" class="headerlink" title="博客搜索栏"></a>博客搜索栏</h2><p>随着内容的增多我意识到需要一个搜索栏来帮助用户快速检索自己需要的信息,于是便决定为博客做一个搜索的功能。</p>
<p>前端搜索框使用的是elementUI的搜索框<a target="_blank" rel="noopener" href="https://element.eleme.io/#/zh-CN/component/input">el-autocomplete</a>，只需要在html中加入如下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-autocomplete</span><br><span class="line">        v-model=&quot;searchState&quot;</span><br><span class="line">        :fetch-suggestions=&quot;querySearch&quot;</span><br><span class="line">        placeholder=&quot;请输入内容&quot;</span><br><span class="line">        @select=&quot;searchSelect&quot;</span><br><span class="line">        clearable</span><br><span class="line">&gt;<span class="tag">&lt;/<span class="name">el-autocomplete</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后在script中编写相应的方法即可实现搜索栏功能：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">  querySearch (queryString, cb) &#123;</span><br><span class="line">    <span class="comment">// 搜索框内容变化调用</span></span><br><span class="line">    <span class="keyword">if</span> (queryString) &#123;</span><br><span class="line">      search(queryString)</span><br><span class="line">        .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          cb(res.data) <span class="comment">// 设定搜索栏下拉框内容</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  searchSelect (item) &#123;</span><br><span class="line">    <span class="comment">// 选择搜索框下拉列表结果</span></span><br><span class="line">    <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>需要注意的是cb方法的参数需要是一个字典数组，下拉框默认显示字典中的value属性的值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">	&#123;</span><br><span class="line">		name: <span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">		value: <span class="string">&#x27;我会显示在下拉框中&#x27;</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// ...</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>后端我利用<code>Person.objects.filter(name__icontains=&quot;abc&quot;)</code>这一命令来进行检索，他的功能是检索Person库中名称中包含”abc”，且abc不区分大小写的条目并返回。我将返回的数据切片出前5条，并通过<code>re.search()</code>准确地得到被匹配字符的位置，以返回搜索内容的上下文。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search</span>(<span class="params">request</span>):</span></span><br><span class="line">    <span class="comment"># 搜索博客文字内容并返回前5条</span></span><br><span class="line">    content = request.body.decode(<span class="string">&#x27;utf-8&#x27;</span>)  <span class="comment"># 搜索框内容</span></span><br><span class="line">    print(content)</span><br><span class="line">    result = models.BlogContent.objects.<span class="built_in">filter</span>(text__icontains=content)[:<span class="number">5</span>]  <span class="comment"># 搜索结果前五条</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="keyword">for</span> r <span class="keyword">in</span> result:</span><br><span class="line">        position = re.search(content, r.text, re.I).span()[<span class="number">0</span>]  <span class="comment"># 匹配位置</span></span><br><span class="line">        res.append(</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&#x27;name&#x27;</span>: r.name,  <span class="comment"># 匹配文章名</span></span><br><span class="line">                <span class="string">&#x27;href&#x27;</span>: r.href,  <span class="comment"># 匹配文章链接</span></span><br><span class="line">                <span class="string">&#x27;value&#x27;</span>: r.text[position:position+<span class="number">20</span>]</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(json.dumps(res))</span><br></pre></td></tr></table></figure>
<p>然后当用户选择了搜索框下拉列表中的某一条后，根据该条的href、name等属性跳转到对应路由和文章：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">searchSelect (item) &#123;</span><br><span class="line">      <span class="comment">// 选择搜索框下拉列表结果</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">this</span>.$route.path === item.href) &#123;</span><br><span class="line">        <span class="built_in">this</span>.$refs.router.clickContent(item.name)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">this</span>.searchName = item.name <span class="comment">// 想blog组件传递当前选择的文章名字</span></span><br><span class="line">      <span class="built_in">this</span>.$router.push(&#123;<span class="attr">path</span>: item.href&#125;)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="增加评论功能"><a href="#增加评论功能" class="headerlink" title="增加评论功能"></a>增加评论功能</h2><p>博客作为展示自己学习记录的平台，自然少不了用来交流心得的评论系统。</p>
<p><a target="_blank" rel="noopener" href="https://valine.js.org/">Valine</a> 诞生于2017年8月7日，是一款基于<a target="_blank" rel="noopener" href="https://leancloud.cn/">LeanCloud</a>的快速、简洁且高效的无后端评论系统。</p>
<p>我采用Valine来做评论系统，是因为他是无后端的评论系统，配置方便，而且不需要注册第三方的账号，且可以邮件回复，还有验证码功能，充分满足了我的需要。</p>
<p>安装Valine：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Install leancloud<span class="string">&#x27;s js-sdk</span></span></span><br><span class="line">npm install leancloud-storage --save</span><br><span class="line"><span class="meta">#</span><span class="bash"> Install valine</span></span><br><span class="line">npm install valine --save</span><br></pre></td></tr></table></figure>
<p>创建评论组件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;vcomments&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    currentChoice: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &#39;&#39;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted () &#123;</span><br><span class="line">    this.createValine()</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods: &#123;</span><br><span class="line">    createValine () &#123;</span><br><span class="line">      const Valine &#x3D; require(&#39;valine&#39;)</span><br><span class="line">      const that &#x3D; this</span><br><span class="line">      console.log(that.currentChoice)</span><br><span class="line">      window.AV &#x3D; require(&#39;leancloud-storage&#39;)</span><br><span class="line">      let valine &#x3D; new Valine()</span><br><span class="line">      valine.init(&#123;</span><br><span class="line">        el: &#39;#vcomments&#39;,</span><br><span class="line">        appId: &#39;M40skc4mCiCskeW7JKep07Ge-gzGzoHsz&#39;,</span><br><span class="line">        appKey: &#39;UdtgcabRV6hy6O0AdEzm8jo8&#39;,</span><br><span class="line">        notify: true,</span><br><span class="line">        verify: true,</span><br><span class="line">        avatar: &#39;retro&#39;,</span><br><span class="line">        path: that.$route.path + &#39;&#x2F;&#39; + that.currentChoice, &#x2F;&#x2F; 每篇博客对应不同的path、评论系统</span><br><span class="line">        placeholder: &#39;欢迎留言与我分享您的想法...&#39;</span><br><span class="line">      &#125;)</span><br><span class="line">      this.valineRefresh &#x3D; false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    &#39;$route&#39; () &#123;</span><br><span class="line">      &#x2F;&#x2F; 重新刷新valine</span><br><span class="line">      this.createValine()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>在其他组件中应用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;comments :currentChoice &#x3D; currentChoice v-if&#x3D;&quot;showComment&quot;&gt;&lt;&#x2F;comments&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import comments from &#39;@&#x2F;components&#x2F;valine&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">	components: &#123; comments &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>
<p>每次更换侧边栏选择，使用和vue-markdown一样的刷新方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.showComment = <span class="literal">false</span></span><br><span class="line"><span class="built_in">this</span>.currentChoice = name</span><br><span class="line"><span class="built_in">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.showComment = <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="手机端兼容"><a href="#手机端兼容" class="headerlink" title="手机端兼容"></a>手机端兼容</h2><p>方便手机用户也可以流畅地使用本博客，不会因为屏幕大小而影响使用体验</p>
<p>主要通过屏幕宽度来判断是否使用手机端的页面布局(隐藏侧边栏)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mounted () &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">`<span class="subst">$&#123;<span class="built_in">document</span>.documentElement.clientWidth&#125;</span>`</span> &lt; <span class="number">850</span>) &#123; <span class="comment">// 如果是手机端登录缩小侧边栏</span></span><br><span class="line">    <span class="built_in">this</span>.isCollapse = <span class="literal">true</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样每次进入页面都会对宽度进行一次判断，如果小于850px则隐藏侧边栏。</p>

  </div>
</article>



      </div>
      
       <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/home/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/categories/">Category</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/gcl-head/hexo-blog">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E8%B7%AF%E7%94%B1%E5%8F%98%E5%8C%96"><span class="toc-number">1.</span> <span class="toc-text">监听路由变化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#markdown-amp-%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE"><span class="toc-number">2.</span> <span class="toc-text">markdown&amp;代码高亮</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#router-view%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.</span> <span class="toc-text">router-view的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E6%90%9C%E7%B4%A2%E6%A0%8F"><span class="toc-number">4.</span> <span class="toc-text">博客搜索栏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E8%AF%84%E8%AE%BA%E5%8A%9F%E8%83%BD"><span class="toc-number">5.</span> <span class="toc-text">增加评论功能</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%8B%E6%9C%BA%E7%AB%AF%E5%85%BC%E5%AE%B9"><span class="toc-number">6.</span> <span class="toc-text">手机端兼容</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&text=博客部分功能实现"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&title=博客部分功能实现"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&is_video=false&description=博客部分功能实现"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=博客部分功能实现&body=Check out this article: http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&title=博客部分功能实现"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&title=博客部分功能实现"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&title=博客部分功能实现"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&title=博客部分功能实现"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2019/09/30/%E5%8D%9A%E5%AE%A2%E9%83%A8%E5%88%86%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0/&name=博客部分功能实现&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick='$("#toc-footer").toggle();return false;'><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick='$("#share-footer").toggle();return false;'><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick='$("#nav-footer").toggle();return false;'><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

      
      <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2021 bighead
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/home/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/categories/">Category</a></li>
         
          <li><a href="/search/">Search</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/gcl-head/hexo-blog">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

      <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'G-28H2E71SQB', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


    </div>
</body>
</html>
